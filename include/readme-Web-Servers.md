# Readme

#### Список ссылок

- [Веб-сервер](https://doka.guide/tools/web-server/)
- [Веб-сервер Apache](https://doka.guide/tools/apache-web-server/)
- [Веб-сервер Nginx](https://doka.guide/tools/nginx-web-server/)
- [Apache vs Nginx: практический взгляд](https://habr.com/ru/post/267721/)


### Серверное ПО [&uarr;](#devmap)

Веб-сервер - Apache, Nginx. Веб-сервер — это специальная программа, которая принимает запросы пользователей,
обрабатывает их и отправляет ответ обратно по протоколу прикладного уровня HTTP.

Интерпретатор языка программирования

СУБД — система управления базами данных: MySQL, PostgreSQL, MS SQL, Oracle, Redis, MongoDB и т.д.

Поисковые системы — ElasticSearch / Sphinx — позволяют осуществлять поиск и фильтрацию быстрее, нежели это возможно с
использованием реляционных СУБД. Kibana - для визуализации данных, полученных из Elasticsearch - это в рамках настройки
хранилища для логов на базе Elasticsearch, Logstash и Kibana, которое называют ELK Stack. Sphinx - движок
полнотекстового поиска.

Elasticsearch (далее ES) — масштабируемая поисковая система, которую также можно отнести к нереляционным (noSQL) базам
данных. В основном используется для полнотекстового поиска с фильтрами и анализаторами.

Кеширующие сервера — системы, «запоминающие» результат обработки запросов и использующие эти данные при повторных
обращениях для ускорения генерации страниц — Memcached и Redis.

Софт для резервного копирования — бэкапы должны создаваться регулярно и автоматически, а также хранится не на том же
сервере, где расположены «боевые данные».

Ускорители исполнения программного кода. Служат для повышения производительности, часто используемые ускорители для PHP:
APC, eAccellerator, XCache.

Мониторинг и оповещения — системы, собирающие важные метрики производительности системы и сообщающие о проблемах.


### Nginx [&uarr;](#Readme)

`Nginx` был разработан специально для устранения ограничений производительности веб-серверов `Apache`. Производительность и
масштабируемость `Nginx` обусловлены архитектурой, управляемой событиями. Он значительно отличается от подхода `Apache`. В
`Nginx` каждый рабочий процесс может одновременно обрабатывать тысячи HTTP-соединений. Следовательно, `Nginx` - это
легковесная, масштабируемая и высокопроизводительная реализация. Эта архитектура делает обработку больших и
флуктуирующих нагрузок на данные гораздо более предсказуемой с точки зрения использования ОЗУ, использования ЦП и
задержки.

`Nginx` также имеет богатый набор функций и может выполнять различные роли сервера:

- Обратный прокси-сервер для протоколов `HTTP, HTTPS, SMTP, POP3 и IMAP`
- Балансировщик нагрузки и `HTTP-кеш`
- Интерфейсный прокси для `Apache` и других веб-серверов, сочетающий гибкость `Apache` с хорошей производительностью статического контента Nginx


### Apache [&uarr;](#Readme)

`Apache` – это свободное программное обеспечение для размещения веб-сервера. Он хорошо показывает себя в работе с
масштабными проектами.

`mod_rewrite` — это модуль для веб-сервера `Apache`, предназначенный для преобразования URL-ов. Модуль использует в своей
работе правила, которые могут быть описаны как в конфигурации сервера (`httpd.conf`), так и в файлах `.htaccess`
непосредственно в файловой структуре Вашего сайта. Правила описываются в виде регулярных выражений

`Apache` был разработан для доставки веб-контента, доступ к которому осуществляется через Интернет. Он известен тем, что
играл ключевую роль в начальном росте интернета. `Apache` - это программное обеспечение с открытым исходным кодом,
разработанное и поддерживаемое открытым сообществом разработчиков и работающее в самых разных операционных системах.
Архитектура включает в себя ядро `Apache` и модули. Основной компонент предоставляет базовую серверную функцию, поэтому он
принимает соединения и управляет параллелизмом. Различные модули соответствуют различным функциям, которые выполняются
по каждому запросу. Конкретное развертывание `Apache` может быть сконфигурировано для включения различных модулей, таких
как функции безопасности, управление динамическим контентом или для базовой обработки HTTP-запросов.

Модель «один сервер делает все» стала ключом к раннему успеху `Apache`. Однако по мере увеличения уровня трафика и
увеличения количества веб-страниц и ограничения производительности настройка Apache на работу с реальным трафиком
усложнялась.


### Apache против Nginx: сравнение их богатых наборов функций [&uarr;](#Readme)

#### Простота

Разрабатывать и обновлять приложения на `Apache` очень просто. Модель «одно соединение на процесс» позволяет очень легко
вставлять модули в любой точке логики веб-обслуживания. Разработчики могут добавлять код таким образом, что в случае
сбоев будет затронут только рабочий процесс, выполняющий код. Обработка всех других соединений будет продолжаться без
помех.

`Nginx`, с другой стороны, имеет сложную архитектуру, поэтому разработка модулей не легка. Разработчики модулей `Nginx`
должны быть очень осторожны, чтобы создавать эффективный и точный код, без сбоев, и соответствующим образом
взаимодействовать со сложным ядром, управляемым событиями, чтобы избежать блокирования операций.

#### Производительность

Производительность измеряется тем, как сервер доставляет большие объемы контента в браузер клиента, и это важный фактор.
Контент может быть статическим или динамическим. Давайте посмотрим статистику по этому вопросу. Статический контент

`Nginx` работает в 2,5 раза быстрее, чем `Apache`, согласно тесту производительности, выполняемому до 1000 одновременных
подключений. Другой тест с 512 одновременными подключениями показал, что `Nginx` примерно в два раза быстрее и потребляет
меньше памяти. Несомненно, `Nginx` имеет преимущество перед `Apache` со статическим контентом. Поэтому, если вам нужно
обслуживать одновременный статический контент, `Nginx` является предпочтительным выбором.

#### Динамический контент

Результаты тестов Speedemy показали, что для динамического контента производительность серверов `Apache` и `Nginx` была
одинаковой. Вероятная причина этого заключается в том, что почти все время обработки запросов расходуется в среде
выполнения PHP, а не в основной части веб-сервера. Среда выполнения PHP довольно похожа для обоих веб-серверов.

`Apache` также может обрабатывать динамический контент, встраивая процессор языка, подобного PHP, в каждый из его рабочих
экземпляров. Это позволяет ему выполнять динамический контент на самом веб-сервере, не полагаясь на внешние компоненты.
Эти динамические процессоры могут быть включены с помощью динамически загружаемых модулей.

`Nginx` не имеет возможности обрабатывать динамический контент изначально. Чтобы обрабатывать PHP и другие запросы на
динамический контент, `Nginx` должен перейти на внешний процессор для выполнения и дождаться отправки визуализированного
контента. Однако этот метод также имеет некоторые преимущества. Поскольку динамический интерпретатор не встроен в
рабочий процесс, его издержки будут присутствовать только для динамического содержимого.

#### Поддержка ОС

`Apache` работает во всех операционных системах, таких как UNIX, Linux или BSD, и полностью поддерживает Microsoft
Windows. `Nginx` также работает на нескольких современных Unix-подобных системах и поддерживает Windows, но его
производительность в Windows не так стабильна, как на платформах UNIX. Безопасность

И `Apache`, и `Nginx` являются безопасными веб-серверами. `Apache` Security Team существует, чтобы предоставить помощь и
советы проектам `Apache` по вопросам безопасности и координировать обработку уязвимостей безопасности. Важно правильно
настроить серверы и знать, что делает каждый параметр в настройках.

#### Гибкость

Веб-серверы могут быть настроены путем добавления модулей. `Apache` долго загружал динамические модули, поэтому все модули
`Apache` поддерживают это.

`Nginx` Plus (`Nginx` Plus - это программный балансировщик нагрузки, веб-сервер и кэш контента, построенный на основе
открытого исходного кода `Nginx`) также использует модульную архитектуру. Новые функции и возможности могут быть добавлены
с программными модулями, которые могут быть подключены к работающему экземпляру `Nginx` Plus по требованию. Динамические
модули добавляют в `Nginx` Plus такие функции, как геолокация пользователей по IP-адресу, изменение размеров изображений и
встраивание сценариев Lua в модель обработки событий `Nginx` Plus. Модули создаются как `Nginx`, Inc., так и сторонними
разработчиками.

Большинство необходимых функциональных возможностей основного модуля (например, прокси, кэширование, распределение
нагрузки) поддерживаются обоими веб-серверами.

#### Поддержка и документация

Важным моментом, который следует учитывать, является доступная справка и поддержка веб-серверов среди прочего
программного обеспечения. Поскольку `Apache` был популярен так долго, поддержка сервера довольно распространена
повсеместно. Для главного сервера и для основанных на задачах сценариев, связанных с подключением `Apache` к другому
программному обеспечению, имеется большая библиотека документации первого и стороннего производителя.

Наряду с документацией многие инструменты и веб-проекты содержат инструменты для начальной загрузки в среде `Apache`. Это
может быть включено в сами проекты или в пакеты, поддерживаемые отделом упаковки вашего дистрибутива.

`Apache`, как правило, получает большую поддержку от сторонних проектов просто из-за своей доли рынка и продолжительности
времени, в течение которого он был доступен.

В прошлом для `Nginx` было трудно найти исчерпывающую англоязычную документацию из-за того, что большая часть ранней
разработки и документации была на русском языке. Однако на сегодняшний день документация заполнена, и на сайте `Nginx`
имеется множество ресурсов для администрирования и доступной документации от третьих лиц.

#### `Nginx` и `Apache` - Совместная работа

Для многих приложений `Nginx` и `Apache` хорошо дополняют друг друга. Очень распространенным начальным шаблоном является
развертывание программного обеспечения `Nginx` с открытым исходным кодом в качестве прокси-сервера (или `Nginx` Plus в
качестве платформы доставки приложений) перед веб-приложением на основе `Apache`. `Nginx` выполняет тяжелую работу,
связанную с HTTP - обслуживает статические файлы, кэширует содержимое и разряжает медленные HTTP-соединения - так что
сервер `Apache` может выполнять код приложения в безопасной и защищенной среде.

### балансировка нагрузки на сервера приложений (`haproxy`) [&uarr;](#devmap)

HAProxy, или High Availability Proxy, является программным балансировщиком нагрузки TCP/HTTP. Он распределяет рабочую
нагрузку по серверам для обеспечения максимальной производительности и оптимизации использования ресурсов. HAProxy
поддерживает гибко настраиваемые методы проверки доступности, обработки отказов и восстановления после них.

HAProxy устанавливается на отдельный сервер, который принимает клиентские запросы и перенаправлять их на веб-сервера
`Nginx`.
