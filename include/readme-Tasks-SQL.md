# Readme


### Заголовок [&uarr;](#Readme)





3. немного баз данных — SQL (mysql)
Задача: я хочу хранить свою билиотеку в БД. Меня волнуют названия книг и авторы — больше ничего хранить не надо. Предложите структуру таблиц.
Половина кандидатов не знают что такое many-to-many и не могут решить что лучше — хранить author_id в таблице books или book_id в таблице authors.
Если со структурой всё ок, я прошу вытащить список книг, которые написаны 3-мя со-авторами. То есть получить отчет «книга — количество соавторов» и отфильтровать те, у которых со-авторов меньше 3х.

SELECT b.book_name, COUNT(*) cnt
FROM authors_books ab
JOIN books b USING (book_id)
GROUP BY book_id
HAVING cnt >= 3;

что, если у нас огромная таблица, а запрос нужно выполнять каждые 3 минуты? Что можно сделать?

Вариантов много. Навскидку:
— кеширование;
— денормализация базы;
— NoSQL;





Задача 1:
Есть таблица, в которой записаны 9 не повторяющихся чисел от 1 до 10. Нужно написать скрипт, который вернет недостающее число.
Подсказка: можно написать, как это можно сделать с помощью создания таблицы (что создать, с какими данными и как написать итоговый селект).




Задача 2:
Нужно написать скрипт, который вернет id заявки и фио (ID) клиентов, которым на момент обращения в банк (то есть заведения заявки) было менее 18 лет.

Есть 2 таблицы:
Applications c полями
app_id — номер заявки,
app_dt — дата заведения заявки,
status,
client_id — id клиента,
empl_id — id сотрудника,
credit_id — id договора (если он был оформлен, иначе — пусто).

Clients
Client_id,
Surname,
Firstname,
Middlename,
Birth_dt,
Passport
Pass_dt
Update_dt – дата занесения записи.

Подсказка: использовать функции с данными.








3.1) Имеем таблицу employees, в ней name, department_id, salary. Просим написать запрос: вывести список сотрудников, получающих максимальную зарплату в своём отделе. Второй запрос: вывести список отделов, содержащих как минимум 5 сотрудников.

3.2) вывести список дубликатов значений поля и их количество. Написать SQL запрос.

3.3) основная таблица + справочник. Вывести объединение. Написать SQL запрос.

3.4)Есть две таблицы

users (users_id, name)
orders (orders_id, users_id, status)

- выбрать всех пользователей из таблицы users у которых ВСЕ записи в таблице orders имеют статус = 0
- выбрать всех пользователей из таблицы users у которых больше 5 записей в таблице orders имеют статус = 1

3.5) Есть таблица One, к ней нужно добавить таблицу two, которая содержит такие же поля (id, name, seller, price). Как это сделать?

3.6) Есть таблица books
id, publish_date, name, author, price
Вывести последню опубликованную книгу каждого автора

3.7) Какая по вашему мнению должна быть структура БД. Есть список книг и список авторов. У книг может быть несколько авторов.
