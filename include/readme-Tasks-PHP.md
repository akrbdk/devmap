# Readme


### Заголовок [&uarr;](#Readme)

АЛГОРИТМЫ

    Нахождение факториала
    Вычисление последовательности Фибоначчи
    Поиск максимального элемента в массиве
    Вычисление перестановок Ханойских башен
    Рассчёт вариантов размена суммы монетами
    Рекурсивный обход дерева




Если по опыту работы кандидата было видно, что с интерфейсами он знаком и с рекурсией уже сталкивался не раз, чтобы не мучать его общими вопросами, я предлагал провести беседу в формате "Что будет, если …?", где кандидат пытался решить смоделированную мной ситуацию, а я выступаю в роли компилятора его решений. Выглядело это так:

- Допустим, Вы попали в ситуацию - Вас взяли на работу, задача - дорабатывать и развивать уже готовый проект. Через неделю Вашего знакомства с проектом, маркетинговый отдел запустил довольно успешную кампанию и время загрузки сайта за сутки увеличилось с 0.5c до 15с. Как вы будете решать проблему?

- Посмотрю на вывод SHOW PROCESSLIST; в консоли MySQL на кол-во и время выполнения запросов.

- Хорошо. Допустим, там постоянно висит 2-3 различных запроса с большим временем выполнения. Ваши действия?

- Оптимизация базы, индексы, объединения.

- Ок, а если много различных запросов с небольшим временем выполнения?

- Необходимо использовать кэширование запросов

- Ок, допилили кэширование, но проблема все же осталась

- Некорректная работа кэширующего механизма?

- Допустим. Давайте немного скорректируем условия - вы открываете консоль MySQL и видите там обычное кол-во запросов. В чем ещё может быть проблема?

И ещё 40 минут в таком же духе. Мои любимые темы - тестирование запросов на малых объемах данных, когда на production данных значительно больше, вложенные запросы страниц, подтягивание внешнего источника (напр. RSS фида) в основном потоке, когда внешний источник упал и т.п. В этом диалоге также есть не-явная суть - проверить мышление кандидата, узнать где и как он ищет решение проблем ("я не знаю, погуглю" - без иронии, один из лучших ответов), может ли он допустить проблему в стороннем системном компоненте и готов ли разобраться с этой проблемой, как хорошо он знает механику работы web-приложений, которая лежит за рамками серверной части.




— У нас есть 10 микросервисов, нам надо авторизовать запросы на них. Как будем решать?
— Я бы взял JWT.
— Хорошая идея, а как будем обрабатывать логауты, ведь JWT не хранит состояние?
— Сделаем короткие токены как в OAuth и при логауте будем на сутки класть их в блек-лист
— Прикольно, а на чем запилим блек-лист?
— Нужен какой-то быстрый кеш, я бы взял Redis
— Охуенно, а как будешь масштабировать когда перестанем влезать в память? ...




- Написать функцию для возведения числа в заданную степень с помощью рекурсии.
- написать пример применения анонимных функций
- Напишите небольшую реализацию паттерна Singleton.


    Вопросы по массивам, часто задаваемые на собеседованиях:
    - Найти второй минимальный элемент массива
    - Найти неповторяющиеся целые числа в массиве
    - Объединить два отсортированных массива
    - Переупорядочить положительные и отрицательные значения в массиве


    Вопросы о стеке, часто задаваемые на собеседованиях:
    - Вычислить постфиксное выражение при помощи стека
    - Отсортировать значения в стеке
    - Проверить сбалансированные скобки в выражении

    Вопросы о связных списках, часто задаваемые на собеседованиях:
    - Обратите связный список
    - Найдите петлю в связном списке
    - Возвратите N-ный узел с начала связного списка
    - Удалите из связного списка дублирующиеся значения






1) Написать функцию вычисления факториала (рекурсия / итерация)


function f($n)
{
return($n < 2 ? 1 : $n * f($n-1));
}

echo f(5); // 5!=1*2*3*4*5 = 120



Любимый вопрос, для самый умных - "Если приложение будет представлять из себя только один файл следующего содержания, можно ли считать это MVC?". Удивительно, сколько людей начинали паниковать и нести ахинею, когда выдели такую реализацию.

$config = [
'db' => [
'host' => '127.0.0.1',
'user' => 'root',
'pass' => '',
'use'  => 'database',
]
];


function model_posts($id = NULL) {
$sql = "SELECT * FROM posts WHERE id = ?";
return db_query($sql, [$id]);
}

function controller_post($id = NULL) {
if ($model = model_posts($id)) {
return view('../templates/post.php', [
'post' => $model
]);
}

    return false;
}

function view($template, Array $variables = array()) {
ob_start();
extract($variables);
include $template;
return ob_get_clean();
}

function db_query($sql, Array $params = array()) {
global $config;
$db = new PDO($config['db']['dsn'], $config['db']['user'], $config['db']['passwd']);
$query = $db->prepare($sql);
$query->execute($params);
return $query->fetchAll();
}

function dispatch() {
$result = FALSE;
$uri = $_SERVER['REQUEST_URI'];

    if (preg_match('#^/post/(?P\d+)/?$#ui', $uri, $matches)) {
        $result = controller_post($matches['id']);
    }

    // ...

    if ($result) {
        echo $result;
    } else {
        die('Error');
    }
}

dispatch();
